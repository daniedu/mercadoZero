(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},677:(e,t,a)=>{"use strict";a.d(t,{D:()=>n,ThemeProvider:()=>i});var s=a(5155),r=a(2115);let l=(0,r.createContext)(),i=e=>{let{children:t,defaultTheme:a="light"}=e,[i,n]=(0,r.useState)(a);return(0,r.useEffect)(()=>{document.documentElement.className="",document.documentElement.classList.add(i)},[i]),(0,s.jsx)(l.Provider,{value:{theme:i,setTheme:n},children:t})},n=()=>(0,r.useContext)(l)},4917:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_64e38d",variable:"__variable_64e38d"}},5455:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_4200f5",variable:"__variable_4200f5"}},5584:(e,t,a)=>{"use strict";a.d(t,{UserProvider:()=>b,A:()=>h});var s=a(5155),r=a(2115),l=a(4093),i=a(5404),n=a(5317),o=a(5695);a(3915),a(1906);let u=(0,l.Wp)({apiKey:"AIzaSyBV-zbH1x3uRt3SkQ5rrac3DtVqR_0d8vA",authDomain:"mercadozero-9cd8c.firebaseapp.com",projectId:"mercadozero-9cd8c",storageBucket:"mercadozero-9cd8c.firebasestorage.app",messagingSenderId:"972846168160",appId:"1:972846168160:web:efc6ca534e2e3205b8ab05",measurementId:"G-XG58XNWW7C"}),c=(0,i.xI)(u),d=(0,n.aU)(u),m=new i.HF,f=(0,r.createContext)(null),h=()=>(0,r.useContext)(f),b=e=>{let{children:t}=e,[a,l]=(0,r.useState)(null),[u,h]=(0,r.useState)(null),[b,_]=(0,r.useState)(!0),v=(0,o.useRouter)(),p=(0,o.usePathname)();(0,r.useEffect)(()=>{let e=(0,i.hg)(c,async e=>{if(l(e),_(!1),e){let t=(0,n.H9)(d,"userProfiles",e.uid),a=await (0,n.x7)(t);if(a.exists())h(a.data());else{let a={name:e.displayName||e.email,email:e.email};await (0,n.BN)(t,a),h(a)}("/login"===p||"/register"===p)&&v.push("/u")}else h(null),p&&p.startsWith("/u")&&v.push("/login");console.log("not loading"),_(!1)});return()=>e()},[]);let g=async e=>{if(a){let t=(0,n.H9)(d,"userProfiles",a.uid);await (0,n.mZ)(t,e),h({...u,...e})}};return(0,s.jsx)(f.Provider,{value:{user:a,profile:u,loading:b,updateProfile:g,signInWithEmail:(e,t)=>(0,i.x9)(c,e,t),signInWithGoogle:()=>(0,i.df)(c,m),registerAndCreateProfile:async(e,t)=>{let a=await (0,i.eJ)(c,e,t);return await (0,n.BN)((0,n.H9)(d,"userProfiles",a.user.uid),{name:e,email:e}),a},signOut:()=>(0,i.CI)(c)},children:t})}},6875:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,4917,23)),Promise.resolve().then(a.t.bind(a,5455,23)),Promise.resolve().then(a.t.bind(a,347,23)),Promise.resolve().then(a.bind(a,677)),Promise.resolve().then(a.bind(a,5584))}},e=>{e.O(0,[854,135,965,112,441,964,358],()=>e(e.s=6875)),_N_E=e.O()}]);