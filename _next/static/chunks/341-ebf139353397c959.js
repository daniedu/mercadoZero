"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[341],{183:(e,r,s)=>{s.d(r,{$:()=>d});var a=s(5155);s(2115);var t=s(4624),i=s(2085),n=s(5384);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:r,variant:s,size:i,asChild:d=!1,...o}=e,c=d?t.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,n.cn)(l({variant:s,size:i,className:r})),...o})}},677:(e,r,s)=>{s.d(r,{D:()=>l,ThemeProvider:()=>n});var a=s(5155),t=s(2115);let i=(0,t.createContext)(),n=e=>{let{children:r,defaultTheme:s="light"}=e,[n,l]=(0,t.useState)(s);return(0,t.useEffect)(()=>{document.documentElement.className="",document.documentElement.classList.add(n)},[n]),(0,a.jsx)(i.Provider,{value:{theme:n,setTheme:l},children:r})},l=()=>(0,t.useContext)(i)},1341:(e,r,s)=>{s.d(r,{Header:()=>u});var a=s(5155),t=s(2115),i=s(6874),n=s.n(i),l=s(183),d=s(677),o=s(5584),c=s(9911);let u=()=>{var e,r,s,i;let{theme:u,setTheme:h}=(0,d.D)(),{user:x,loading:g,signOut:m}=(0,o.A)(),[f,b]=(0,t.useState)(!1);return(0,a.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 shadow-sm backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,a.jsxs)("div",{className:"container flex h-14 items-center justify-between mx-auto px-4",children:[(0,a.jsxs)(n(),{href:"/",className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-md bg-primary text-primary-foreground font-bold",children:"G"}),(0,a.jsx)("span",{className:"font-bold text-lg",children:"My App"})]}),(0,a.jsxs)("nav",{className:"hidden md:flex items-center space-x-4",children:[(0,a.jsx)(n(),{href:"/c",passHref:!0,children:(0,a.jsx)(l.$,{variant:"ghost",children:"Catalogo"})}),(0,a.jsx)(n(),{href:"/help",passHref:!0,children:(0,a.jsx)(l.$,{variant:"ghost",children:"Ayuda"})}),!g&&x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n(),{href:"/u",passHref:!0,children:x.photoURL?(0,a.jsx)("img",{src:x.photoURL,alt:"User profile",width:38,height:38,className:"rounded-full border border-gray-300 dark:border-gray-600"}):(0,a.jsx)("div",{className:"h-[38px] w-[38px] flex items-center justify-center rounded-full border border-gray-300 dark:border-gray-600 bg-gray-200 dark:bg-gray-700 text-sm font-semibold",children:(null==(r=x.email)||null==(e=r[0])?void 0:e.toUpperCase())||"U"})}),(0,a.jsx)(l.$,{onClick:m,variant:"destructive",children:"Sign Out"})]}):g?(0,a.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n(),{href:"/login",passHref:!0,children:(0,a.jsx)(l.$,{variant:"outline",children:"Iniciar Sesion"})}),(0,a.jsx)(n(),{href:"/register",passHref:!0,children:(0,a.jsx)(l.$,{children:"Registrarme"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 md:hidden",children:[(0,a.jsx)("button",{onClick:()=>b(!0),className:"text-2xl text-gray-800 dark:text-white",children:(0,a.jsx)(c.OXb,{})}),(0,a.jsx)("button",{onClick:()=>h("dark"===u?"light":"dark"),className:"flex items-center space-x-2 p-2 rounded-full text-lg font-semibold shadow-lg transition-all duration-300 transform hover:scale-105 ".concat("dark"===u?"bg-yellow-400 text-gray-900 hover:bg-yellow-300":"bg-gray-800 text-white hover:bg-gray-700"),children:"dark"===u?(0,a.jsx)(c.wQq,{className:"h-4 w-4"}):(0,a.jsx)(c.V6H,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"fixed h-[100vh] inset-y-0 right-0 z-[60] w-64 bg-background dark:bg-gray-800 p-6 shadow-lg transform transition-transform duration-300 ease-in-out ".concat(f?"translate-x-0":"translate-x-full"),children:[(0,a.jsx)("div",{className:"flex justify-end mb-4",children:(0,a.jsx)("button",{onClick:()=>b(!1),className:"text-2xl text-gray-800 dark:text-white",children:(0,a.jsx)(c.QCr,{})})}),(0,a.jsxs)("nav",{className:"flex flex-col space-y-4",children:[(0,a.jsx)(n(),{href:"/c",passHref:!0,children:(0,a.jsx)(l.$,{variant:"ghost",onClick:()=>b(!1),className:"w-full text-left",children:"Catalogo"})}),(0,a.jsx)(n(),{href:"/help",passHref:!0,children:(0,a.jsx)(l.$,{variant:"ghost",onClick:()=>b(!1),className:"w-full text-left",children:"Ayuda"})}),(0,a.jsx)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:!g&&x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n(),{href:"/u",passHref:!0,children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-4",onClick:()=>b(!1),children:[x.photoURL?(0,a.jsx)("img",{src:x.photoURL,alt:"User profile",width:38,height:38,className:"rounded-full border border-gray-300 dark:border-gray-600"}):(0,a.jsx)("div",{className:"h-[38px] w-[38px] flex items-center justify-center rounded-full border border-gray-300 dark:border-gray-600 bg-gray-200 dark:bg-gray-700 text-sm font-semibold",children:(null==(i=x.email)||null==(s=i[0])?void 0:s.toUpperCase())||"U"}),(0,a.jsx)("span",{className:"text-sm font-semibold",children:x.displayName||x.email})]})}),(0,a.jsx)(l.$,{onClick:()=>{m(),b(!1)},variant:"destructive",className:"w-full",children:"Sign Out"})]}):g?(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n(),{href:"/login",passHref:!0,children:(0,a.jsx)(l.$,{variant:"outline",onClick:()=>b(!1),className:"w-full mb-2",children:"Iniciar Sesion"})}),(0,a.jsx)(n(),{href:"/register",passHref:!0,children:(0,a.jsx)(l.$,{onClick:()=>b(!1),className:"w-full",children:"Registrarme"})})]})})]})]}),f&&(0,a.jsx)("div",{className:"fixed h-[100vh] inset-0 z-50 bg-[rgba(0,0,0,0.5)] bg-opacity-80 md:hidden",onClick:()=>b(!1)})]})})}},5384:(e,r,s)=>{s.d(r,{cn:()=>i});var a=s(2596),t=s(9688);function i(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,t.QP)((0,a.$)(r))}},5584:(e,r,s)=>{s.d(r,{UserProvider:()=>m,A:()=>g});var a=s(5155),t=s(2115),i=s(4093),n=s(5404),l=s(5317),d=s(5695);s(3915),s(1906);let o=(0,i.Wp)({apiKey:"AIzaSyBV-zbH1x3uRt3SkQ5rrac3DtVqR_0d8vA",authDomain:"mercadozero-9cd8c.firebaseapp.com",projectId:"mercadozero-9cd8c",storageBucket:"mercadozero-9cd8c.firebasestorage.app",messagingSenderId:"972846168160",appId:"1:972846168160:web:efc6ca534e2e3205b8ab05",measurementId:"G-XG58XNWW7C"}),c=(0,n.xI)(o),u=(0,l.aU)(o),h=new n.HF,x=(0,t.createContext)(null),g=()=>(0,t.useContext)(x),m=e=>{let{children:r}=e,[s,i]=(0,t.useState)(null),[o,g]=(0,t.useState)(null),[m,f]=(0,t.useState)(!0),b=(0,d.useRouter)(),p=(0,d.usePathname)();(0,t.useEffect)(()=>{let e=(0,n.hg)(c,async e=>{if(i(e),f(!1),e){let r=(0,l.H9)(u,"userProfiles",e.uid),s=await (0,l.x7)(r);if(s.exists())g(s.data());else{let s={name:e.displayName||e.email,email:e.email};await (0,l.BN)(r,s),g(s)}("/login"===p||"/register"===p)&&b.push("/u")}else g(null),p&&p.startsWith("/u")&&b.push("/login");console.log("not loading"),f(!1)});return()=>e()},[]);let v=async e=>{if(s){let r=(0,l.H9)(u,"userProfiles",s.uid);await (0,l.mZ)(r,e),g({...o,...e})}};return(0,a.jsx)(x.Provider,{value:{user:s,profile:o,loading:m,updateProfile:v,signInWithEmail:(e,r)=>(0,n.x9)(c,e,r),signInWithGoogle:()=>(0,n.df)(c,h),registerAndCreateProfile:async(e,r)=>{let s=await (0,n.eJ)(c,e,r);return await (0,l.BN)((0,l.H9)(u,"userProfiles",s.user.uid),{name:e,email:e}),s},signOut:()=>(0,n.CI)(c)},children:r})}}}]);